@model Mardis.Engine.Web.ViewModel.DashBoardViewModels.DashBoardViewModel

@{
    ViewData["Menu"] = "Home";
    ViewData["Title"] = "DashBoard ";
}

@section buttons{
}

@section filters{
    @Html.Partial("_CoreFilterPartial", Model.Properties)
}

<tsRequest>

    <credentials name="dsamueza.mardis@hotmail.com" password="M@rdis123">

        <site contentUrl="views" />

    </credentials>

</tsRequest>
<div id="divMainDashBoard">
    <div id="divHeader">
        <div class="row">

            <div class="col-sm-8"><h3>Panel de Productividad</h3> </div>

            <div class="col-sm-2">
                @if (ViewBag.user == "b72beff7-7635-4d75-86da-04b6bb58964f")
                {
                    <select id="selCampaigns" class="form-control input-sm" asp-for="IdCampaign" asp-items="@ViewBag.CampaignList">
                        <option>Campaña</option>

                        <option>Unificado</option>
                    </select>
                }
                else
                {

                    <select id="selCampaigns" class="form-control input-sm" asp-for="IdCampaign" asp-items="@ViewBag.CampaignList">
                        <option>Campaña</option>

                    </select>
                }


            </div>
            <div class="col-sm-2">

                @if (ViewBag.Account == Guid.Parse("22BFD943-8047-445A-BB20-533D69D52C92"))
                {
                    <button type="submit" class="btn btn-primary" onclick=" Generar();">Generar DashBoard</button>
                }
                else
                {
                    <button type="submit" class="btn btn-primary">Generar DashBoard</button>

                }
            </div>
        </div>

        <div style="margin-top: 7px;"></div>


        <div style="margin-top: 7px;"></div>


        <div class="contenido" style="text-align:center ; margin-left:18%">

            <div id="vizContainer" style="width:800px; height:400px;"></div>
            <div class="clearfix"></div>
            <div class='tableauPlaceholder' style='width: 1000px; height: 850px;'><object class='tableauViz' width='1000' height='850' style='display:none;'><param name='host_url' value='https%3A%2F%2Fus-west-2b.online.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='&#47;t&#47;mardis' /><param name='name' value='test21&#47;Dashboard1_1' /><param name='tabs' value='yes' /><param name='toolbar' value='yes' /><param name='showAppBanner' value='false' /><param name='filter' value='iframeSizedToWindow=true' /></object></div>

        </div>

    </div>
</div>



@section scripts{
    <script src="~/js/viewModel/TaskCommon.js"></script>
    <script src="~/js/viewModel/FilterHelper.js"></script>
    <script src="~/js/viewModel/FilterHelper.js"></script>
    <script src="~/js/viewModel/DashBoardViewModel.js"></script>
    <script src="~/js/viewModel/tableau.js"></script>
    <script>
        function Generar() {
            var vals = $('#selCampaigns option:selected').val();
            var as = GetDashbord(vals);
            initViz1(as);

        }
    </script>
}